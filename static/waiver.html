<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liability Waiver | Riverview Adventure Company</title>
    <meta name="description" content="Sign the liability release form for kayak, tube, and e-bike rentals at Riverview Adventure Company. Required before your Wisconsin River adventure.">
    <meta name="robots" content="noindex, nofollow">
    <link rel="canonical" href="https://riverviewadventurecompany.com/waiver">
    
    <link rel="icon" type="image/png" href="/images/logo.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Montserrat:wght@700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/animations.css">
    <style>
        .waiver-section {
            background: var(--surface-secondary);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
        }
        .waiver-section h3 {
            font-size: 1.25rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .waiver-section h3::before {
            content: '';
            width: 4px;
            height: 1.25rem;
            background: var(--primary);
            border-radius: 2px;
        }
        .legal-text {
            background: var(--surface-primary);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.5rem;
            max-height: 400px;
            overflow-y: auto;
            font-size: 0.9rem;
            line-height: 1.7;
            color: var(--text-secondary);
        }
        .legal-text p {
            margin-bottom: 1rem;
        }
        .legal-text strong {
            color: var(--text-primary);
        }
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }
        .form-group {
            margin-bottom: 1.5rem;
        }
        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }
        .form-group label .required {
            color: #ef4444;
        }
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.875rem 1rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
            background: var(--surface-primary);
            color: var(--text-primary);
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.15);
        }
        .checkbox-group {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
        }
        .checkbox-group input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-top: 0.25rem;
            cursor: pointer;
        }
        .checkbox-group label {
            font-size: 0.95rem;
            line-height: 1.5;
            cursor: pointer;
        }
        .signature-pad {
            border: 2px dashed var(--border);
            border-radius: 8px;
            background: var(--surface-primary);
            min-height: 180px;
            position: relative;
            cursor: crosshair;
        }
        .signature-pad canvas {
            width: 100%;
            height: 180px;
            border-radius: 6px;
        }
        .signature-pad .placeholder {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--text-muted);
            font-size: 0.9rem;
            pointer-events: none;
        }
        .signature-actions {
            display: flex;
            gap: 1rem;
            margin-top: 0.75rem;
        }
        .signature-actions button {
            padding: 0.5rem 1rem;
            font-size: 0.85rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .btn-clear {
            background: transparent;
            border: 1px solid var(--border);
            color: var(--text-secondary);
        }
        .btn-clear:hover {
            background: var(--surface-secondary);
        }
        .submit-section {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid var(--border);
        }
        .submit-section .btn {
            min-width: 280px;
            padding: 1rem 2rem;
            font-size: 1.1rem;
        }
        .form-note {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-top: 1rem;
        }
        .success-message {
            background: rgba(34, 197, 94, 0.1);
            border: 1px solid rgba(34, 197, 94, 0.3);
            color: #22c55e;
            padding: 2rem;
            border-radius: 12px;
            text-align: center;
            display: none;
        }
        .success-message h2 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }
        .error-message {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #ef4444;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            display: none;
        }
        .minor-fields {
            display: none;
            margin-top: 1rem;
            padding: 1rem;
            background: var(--surface-primary);
            border-radius: 8px;
        }
        .minor-fields.visible {
            display: block;
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Header -->
    <header class="header" role="banner">
        <div class="container">
            <div class="header__inner">
                <a href="/" class="header__logo" aria-label="Riverview Adventure Company - Home">
                    <img src="/images/logo.png" alt="Riverview Adventure Company Logo" width="60" height="60">
                    <span class="header__logo-text">Riverview Adventure</span>
                </a>
                <nav class="nav" role="navigation" aria-label="Main navigation">
                    <a href="/" class="nav__link">Home</a>
                    <a href="/services" class="nav__link">Services</a>
                    <a href="/ebikes" class="nav__link">E-Bikes</a>
                    <a href="/conditions" class="nav__link">River Conditions</a>
                    <a href="/about" class="nav__link">About</a>
                    <a href="/contact" class="nav__link">Contact</a>
                </nav>
                <div class="header__actions">
                    <a href="tel:+16086433636" class="header__phone" aria-label="Call us">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z"/></svg>
                        <span>(608) 515-3456</span>
                    </a>
                    <a href="/book" class="btn btn--primary btn--sm">Book Now</a>
                    <button type="button" class="menu-toggle" aria-expanded="false" aria-controls="mobile-nav" aria-label="Open menu">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </header>
    
    <main id="main-content" role="main">
        <!-- Page Hero -->
        <section class="page-hero page-hero--sm" aria-labelledby="page-title">
            <div class="page-hero__bg">
                <img src="/images/hero-kayaks.jpg" alt="Kayaks ready for adventure" width="1920" height="400" loading="eager">
            </div>
            <div class="page-hero__overlay"></div>
            <div class="page-hero__content">
                <h1 id="page-title" class="page-hero__title">Liability Release Form</h1>
                <p class="page-hero__subtitle">Required before your adventure</p>
            </div>
        </section>
        
        <!-- Waiver Form -->
        <section class="section">
            <div class="container container--narrow">
                
                <div class="success-message" id="success-message">
                    <h2>âœ… Waiver Submitted!</h2>
                    <p>Thank you for signing. You're all set for your adventure!</p>
                    <p style="margin-top: 1rem;"><a href="/" class="btn btn--primary">Return Home</a></p>
                </div>
                
                <form id="waiver-form" novalidate>
                    <div class="error-message" id="error-message"></div>
                    
                    <!-- Adventure Details -->
                    <div class="waiver-section">
                        <h3>Adventure Details</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="adventure-type">Type of Adventure <span class="required">*</span></label>
                                <select id="adventure-type" name="rentalType" required>
                                    <option value="">Select your adventure...</option>
                                    <option value="Float on the Wisconsin River">Float on the Wisconsin River</option>
                                    <option value="Kayak Rental">Kayak Rental</option>
                                    <option value="E-Bicycle Rental">E-Bicycle Rental</option>
                                    <option value="Traditional Bicycle Rental">Traditional Bicycle Rental</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="adventure-date">Date of Adventure <span class="required">*</span></label>
                                <input type="date" id="adventure-date" name="adventureDate" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="group-size">Group Size</label>
                            <input type="number" id="group-size" name="groupSize" min="1" max="50" value="1">
                        </div>
                    </div>
                    
                    <!-- Personal Information -->
                    <div class="waiver-section">
                        <h3>Your Information</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="first-name">First Name <span class="required">*</span></label>
                                <input type="text" id="first-name" name="firstName" required autocomplete="given-name">
                            </div>
                            <div class="form-group">
                                <label for="last-name">Last Name <span class="required">*</span></label>
                                <input type="text" id="last-name" name="lastName" required autocomplete="family-name">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="email">Email Address <span class="required">*</span></label>
                                <input type="email" id="email" name="email" required autocomplete="email">
                            </div>
                            <div class="form-group">
                                <label for="phone">Phone Number</label>
                                <input type="tel" id="phone" name="phone" autocomplete="tel">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="dob">Date of Birth <span class="required">*</span></label>
                            <input type="date" id="dob" name="dob" required>
                        </div>
                    </div>
                    
                    <!-- Emergency Contact -->
                    <div class="waiver-section">
                        <h3>Emergency Contact</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="emergency-name">Emergency Contact Name <span class="required">*</span></label>
                                <input type="text" id="emergency-name" name="emergencyContact" required>
                            </div>
                            <div class="form-group">
                                <label for="emergency-phone">Emergency Contact Phone <span class="required">*</span></label>
                                <input type="tel" id="emergency-phone" name="emergencyPhone" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <div class="checkbox-group">
                                <input type="checkbox" id="has-minors" name="hasMinors">
                                <label for="has-minors">Minor(s) will be adventuring with me</label>
                            </div>
                            <div class="minor-fields" id="minor-fields">
                                <label for="minors-info">Please list minor(s) names and ages:</label>
                                <textarea id="minors-info" name="minorsInfo" rows="3" placeholder="e.g., John (12), Sarah (8)"></textarea>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Liability Release -->
                    <div class="waiver-section">
                        <h3>Liability Release Agreement</h3>
                        <p style="margin-bottom: 1rem; color: var(--text-secondary);"><strong>Please Review Carefully - This Impacts Your Legal Rights</strong></p>
                        
                        <div class="legal-text">
                            <p>In exchange for participation in the activities of Regular and E-Bike Rental, Kayak rental, and/or 'Tubing' on the Wisconsin River organized by "Riverview Adventure Company", or "RAC" as named throughout this document, of 740 Water Street, Sauk City, Wisconsin, 53583 and/or use of the property, facilities, and services of RAC, I agree for myself and (if applicable) for the members of my family, to the following:</p>
                            
                            <p><strong>1. Agreement To Follow Directions.</strong> I agree to observe and obey all posted rules and warnings, and further agree to follow any oral instructions or directions given by RAC, or the employees, representatives, or agents of RAC.</p>
                            
                            <p><strong>2. Assumption of the Risks and Release.</strong> I recognize that there are certain inherent risks associated with the above-described activities and I assume full responsibility for personal injury to myself and (if applicable) my family members, and further release and discharge RAC for injury, loss, or damage arising out of my or my family's use of or presence upon the facilities of RAC, whether caused by the fault of myself, my family, RAC, third parties acting with permission from RAC, or any other individual(s) or circumstances.</p>
                            
                            <p><strong>3. Indemnification.</strong> I agree to indemnify and defend RAC against all claims, causes of action, damages, judgments, costs, or expenses, including attorney fees and other litigation costs, which may in any way arise from my or my family's use of or presence at locations where RAC equipment or activities are occurring.</p>
                            
                            <p><strong>4. Fees.</strong> I agree to pay for all damages to the facilities of RAC caused by any negligent, reckless, or willful actions by me or my family.</p>
                            
                            <p><strong>5. Minors.</strong> I consent to the participation of me and any minors listed in the activities above and agree on behalf of the above minor to all of the terms and conditions of this agreement. By signing this Release of Liability, I represent that I have legal authority over and custody of minors listed.</p>
                            
                            <p><strong>6. Applicable Law.</strong> Any legal or equitable claim that may arise from participation in the above shall be resolved under Wisconsin law.</p>
                            
                            <p><strong>7. No Pressure.</strong> I agree and acknowledge that I am under no pressure to sign this agreement and that I have been given a reasonable opportunity to review it before signing.</p>
                            
                            <p><strong>8. Arm's Length Agreement.</strong> This agreement and each of its terms are the product of an arm's length negotiation between the Parties. In the event any ambiguity is found to exist in the interpretation of this agreement or any of its provisions, the Parties, and each of them, explicitly reject the application of any legal or equitable rule of interpretation which would lead to a construction either "for" or "against" a particular party based upon their status as the drafter of a specific term, language, or provision giving rise to such ambiguity.</p>
                            
                            <p><strong>9. Enforceability.</strong> The invalidity or unenforceability of any provision of this agreement, whether standing alone or as applied to a particular occurrence or circumstance, shall not affect the validity or enforceability of any other provision of this agreement or of any other applications of such provision, as the case may be. Such invalid or unenforceable provision shall be deemed not to be a part of this agreement.</p>
                        </div>
                        
                        <div class="form-group" style="margin-top: 1.5rem;">
                            <div class="checkbox-group">
                                <input type="checkbox" id="agree-terms" name="agreedTerms" required>
                                <label for="agree-terms">
                                    <strong>I have read this entire document and understand it.</strong> I further understand that by signing this release, I voluntarily surrender certain legal rights. I acknowledge that my electronic signature is the same as a handwritten one. <span class="required">*</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Signature -->
                    <div class="waiver-section">
                        <h3>Your Signature</h3>
                        <p style="margin-bottom: 1rem; color: var(--text-secondary);">Please sign in the box below using your mouse or finger.</p>
                        
                        <div class="signature-pad" id="signature-pad">
                            <canvas id="signature-canvas"></canvas>
                            <span class="placeholder" id="sig-placeholder">Sign here</span>
                        </div>
                        <div class="signature-actions">
                            <button type="button" class="btn-clear" onclick="clearSignature()">Clear Signature</button>
                        </div>
                        <input type="hidden" id="signature-data" name="signature">
                        
                        <div class="form-group" style="margin-top: 1.5rem;">
                            <label for="sign-date">Date of Signature <span class="required">*</span></label>
                            <input type="date" id="sign-date" name="signDate" required>
                        </div>
                    </div>
                    
                    <!-- Submit -->
                    <div class="submit-section">
                        <button type="submit" class="btn btn--primary btn--lg" id="submit-btn">
                            Submit Waiver
                        </button>
                        <p class="form-note">
                            By submitting, you agree to the liability release terms above.<br>
                            A copy will be sent to your email address.
                        </p>
                    </div>
                </form>
            </div>
        </section>
    </main>
    
    <!-- Footer -->
    <footer class="footer" role="contentinfo">
        <div class="container">
            <div class="footer__grid">
                <div class="footer__brand">
                    <div class="footer__logo"><img src="/images/logo.png" alt="Riverview Adventure Company" width="60" height="60"></div>
                    <p class="footer__tagline">Your gateway to outdoor adventure on the Wisconsin River.</p>
                </div>
                <div>
                    <h3 class="footer__title">Quick Links</h3>
                    <nav class="footer__links"><a href="/services" class="footer__link">Services</a><a href="/ebikes" class="footer__link">E-Bikes</a><a href="/conditions" class="footer__link">River Conditions</a><a href="/book" class="footer__link">Book Online</a></nav>
                </div>
                <div>
                    <h3 class="footer__title">Contact Us</h3>
                    <address class="footer__contact" style="font-style: normal;">
                        <div class="footer__contact-item"><span>740 Water Street<br>Sauk City, WI 53583</span></div>
                        <div class="footer__contact-item"><a href="tel:+16085153456">(608) 515-3456</a></div>
                    </address>
                </div>
            </div>
            <div class="footer__bottom">
                <p class="footer__copyright">&copy; 2026 Riverview Adventure Company. All rights reserved.</p>
                <nav class="footer__legal"><a href="/privacy">Privacy</a><a href="/terms">Terms</a></nav>
            </div>
        </div>
    </footer>
    
    <script src="/js/main.js" defer></script>
    <script>
    // Signature pad
    const canvas = document.getElementById('signature-canvas');
    const ctx = canvas.getContext('2d');
    const placeholder = document.getElementById('sig-placeholder');
    let isDrawing = false;
    let hasSignature = false;

    function resizeCanvas() {
        const rect = canvas.parentElement.getBoundingClientRect();
        canvas.width = rect.width - 4;
        canvas.height = 176;
        ctx.strokeStyle = '#000';
        ctx.lineWidth = 2;
        ctx.lineCap = 'round';
        ctx.lineJoin = 'round';
    }
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    function getPos(e) {
        const rect = canvas.getBoundingClientRect();
        const x = (e.touches ? e.touches[0].clientX : e.clientX) - rect.left;
        const y = (e.touches ? e.touches[0].clientY : e.clientY) - rect.top;
        return { x, y };
    }

    canvas.addEventListener('mousedown', e => { isDrawing = true; ctx.beginPath(); ctx.moveTo(getPos(e).x, getPos(e).y); });
    canvas.addEventListener('mousemove', e => { if (isDrawing) { const p = getPos(e); ctx.lineTo(p.x, p.y); ctx.stroke(); placeholder.style.display = 'none'; hasSignature = true; } });
    canvas.addEventListener('mouseup', () => { isDrawing = false; updateSignatureData(); });
    canvas.addEventListener('mouseleave', () => { isDrawing = false; });

    canvas.addEventListener('touchstart', e => { e.preventDefault(); isDrawing = true; ctx.beginPath(); ctx.moveTo(getPos(e).x, getPos(e).y); });
    canvas.addEventListener('touchmove', e => { e.preventDefault(); if (isDrawing) { const p = getPos(e); ctx.lineTo(p.x, p.y); ctx.stroke(); placeholder.style.display = 'none'; hasSignature = true; } });
    canvas.addEventListener('touchend', () => { isDrawing = false; updateSignatureData(); });

    function clearSignature() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        placeholder.style.display = 'block';
        hasSignature = false;
        document.getElementById('signature-data').value = '';
    }

    function updateSignatureData() {
        if (hasSignature) {
            document.getElementById('signature-data').value = canvas.toDataURL('image/png');
        }
    }

    // Minor fields toggle
    document.getElementById('has-minors').addEventListener('change', function() {
        document.getElementById('minor-fields').classList.toggle('visible', this.checked);
    });

    // Set default dates
    const today = new Date().toISOString().split('T')[0];
    document.getElementById('sign-date').value = today;
    document.getElementById('adventure-date').min = today;

    // Form submission
    document.getElementById('waiver-form').addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const errorEl = document.getElementById('error-message');
        const submitBtn = document.getElementById('submit-btn');
        
        // Validate signature
        if (!hasSignature) {
            errorEl.textContent = 'Please provide your signature.';
            errorEl.style.display = 'block';
            return;
        }
        
        // Validate terms
        if (!document.getElementById('agree-terms').checked) {
            errorEl.textContent = 'You must agree to the liability release terms.';
            errorEl.style.display = 'block';
            return;
        }
        
        updateSignatureData();
        
        submitBtn.disabled = true;
        submitBtn.textContent = 'Submitting...';
        errorEl.style.display = 'none';
        
        const formData = new FormData(this);
        const data = Object.fromEntries(formData);
        data.agreedTerms = document.getElementById('agree-terms').checked;
        
        try {
            const response = await fetch('/api/waiver', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            });
            
            const result = await response.json();
            
            if (response.ok && result.success) {
                document.getElementById('waiver-form').style.display = 'none';
                document.getElementById('success-message').style.display = 'block';
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else {
                throw new Error(result.error || 'Submission failed');
            }
        } catch (error) {
            errorEl.textContent = error.message || 'Something went wrong. Please try again.';
            errorEl.style.display = 'block';
            submitBtn.disabled = false;
            submitBtn.textContent = 'Submit Waiver';
        }
    });
    </script>
</body>
</html>
